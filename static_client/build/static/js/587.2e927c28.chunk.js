"use strict";(self.webpackChunknew_client=self.webpackChunknew_client||[]).push([[587],{38587:function(e,r,t){t.r(r);var a=t(74165),n=t(15861),s=t(70885),i=(t(74569),t(15063)),o=t(30577),l=t(72791),c=t(32059),u=t(16030),d=t(41578),m=t(80184);r.default=function(e){var r=e.history,t=(0,u.I0)(),x=(0,l.useState)(""),g=(0,s.Z)(x,2),f=g[0],p=g[1],h=(0,l.useState)(""),b=(0,s.Z)(h,2),w=b[0],v=b[1];(0,u.v9)((function(e){return e})).user;(0,l.useEffect)((function(){p(window.localStorage.getItem("emailForRegisteration"))}),[]);var y=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(n){var s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f&&w){e.next=4;break}return o.Am.error("Email & Password is required"),e.abrupt("return");case 4:if(!(w.length<=4)){e.next=7;break}return o.Am.error("Password must be 4 charactor long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,i.I.signInWithEmailLink(f,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegisteration"),s=i.I.currentUser,e.next=16,s.updatePassword(w);case 16:return e.next=18,s.getIdTokenResult();case 18:l=e.sent,(0,c.ZP)(l.token).then((function(e){t({type:"logged_in_user",payload:{email:e.data.email,token:l.token,name:e.data.name,_id:e.data._id,isAdmin:e.data.isAdmin}})})).catch((function(e){return console.error(e)})),r.push("/");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),console.error(e.t0),o.Am.error(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(r){return e.apply(this,arguments)}}();return(0,m.jsx)("section",{className:"text-gray-600 body-font relative",children:(0,m.jsxs)("div",{className:"container px-5 py-10 mx-auto",children:[(0,m.jsx)("div",{className:"flex flex-col items-center w-full mb-12",children:(0,m.jsxs)("h1",{class:"sm:text-3xl text-2xl  inline-flex  items-center font-medium title-font mb-4 text-gray-700",children:["Register Complete ",(0,m.jsx)(d.V5F,{className:"mx-1",color:"blue"})," "]})}),(0,m.jsx)("form",{children:(0,m.jsx)("div",{className:"lg:w-1/2 md:w-2/3 mx-auto",children:(0,m.jsxs)("div",{className:"flex flex-wrap -m-2",children:[(0,m.jsx)("div",{className:"p-2 w-full",children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("label",{for:"email",className:"leading-7 text-sm text-gray-600",children:"Email"}),(0,m.jsx)("input",{type:"email",id:"email",name:"email",value:f,onChange:function(e){return p(e.target.value)},placeholder:"Your email",autoFocus:!0,className:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]})}),(0,m.jsx)("div",{className:"p-2 w-full",children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("label",{for:"password",className:"leading-7 text-sm text-gray-600",children:"Password"}),(0,m.jsx)("input",{type:"password",id:"password",name:"password",value:w,onChange:function(e){return v(e.target.value)},placeholder:"Password",className:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]})}),(0,m.jsx)("div",{className:" p-2 w-full",onClick:y,children:(0,m.jsx)("button",{disabled:!f,className:"flex mx-auto text-white   bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg",children:"Register Complete"})})]})})})]})})}}}]);
//# sourceMappingURL=587.2e927c28.chunk.js.map