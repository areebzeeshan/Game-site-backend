"use strict";(self.webpackChunknew_client=self.webpackChunknew_client||[]).push([[537],{69817:function(e,t,r){r.d(t,{BX:function(){return p},N6:function(){return u},Xq:function(){return i},q7:function(){return d}});var n=r(74165),a=r(15861),s=r(74569),c=r.n(s),o=r(48145),i=function(e,t,r){return function(){var s=(0,a.Z)((0,n.Z)().mark((function a(s,i){var u,d;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("".concat(o.b,"/products/").concat(e));case 2:u=n.sent,d=u.data,s({type:"cart_add_item",payload:{product:d._id,name:d.name,price:d.price,countInStock:d.countInStock,images:d.images,qty:t,userId:r}}),localStorage.setItem("cartItems",JSON.stringify(i().cart.cartItems));case 6:case"end":return n.stop()}}),a)})));return function(e,t){return s.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"cart_remove_item",payload:e}),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),localStorage.removeItem("phoneNumber");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"cart_shipping_address",payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"cart_payment_method",payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},41713:function(e,t,r){r.d(t,{Du:function(){return l},LV:function(){return i},Nc:function(){return d},TG:function(){return p},h:function(){return x},kA:function(){return f},or:function(){return m},s$:function(){return u}});var n=r(74165),a=r(15861),s=r(74569),c=r.n(s),o=r(48145),i=(r(69817),function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"order_create_request"}),s=a(),i=s.user,u={headers:{"Content-Type":"Application/json",authtoken:"".concat(i.token)}},t.next=6,c().post("".concat(o.b,"/orders/"),e,u);case 6:d=t.sent,p=d.data,r({type:"order_create_success",payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"order_create_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}),u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"order_details_request"}),s=a(),i=s.user,u={headers:{authtoken:"".concat(i.token)}},t.next=6,c().get("".concat(o.b,"/orders/").concat(e),u);case 6:d=t.sent,p=d.data,r({type:"order_details_success",payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"order_details_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r({type:"order_pay_request"}),s=a(),i=s.user,u={headers:{"Content-Type":"application/json",authtoken:i.token?"".concat(i.token):""}},!i.token){t.next=10;break}return t.next=7,c().put("".concat(o.b,"/orders/").concat(e,"/confirm"),{},u);case 7:d=t.sent,d.data,r({type:"order_pay_success"});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:"order_pay_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},p=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,u,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"my_order_request"}),!1,a=r(),s=a.user,i={headers:{authtoken:s.token?"".concat(s.token):""}},e.next=7,c().post("".concat(o.b,"/orders/myorders"),{email:s.email},i);case 7:u=e.sent,d=u.data,t({type:"my_order_success",payload:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"my_order_fail",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()},l=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,i,u,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"order_list_request"}),!1,a=r(),s=a.user,i={headers:{authtoken:s.token?"".concat(s.token):""}},e.next=7,c().get("".concat(o.b,"/orders/"),i);case 7:u=e.sent,d=u.data,t({type:"order_list_success",payload:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"order_list_fail",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"order_deliver_request"}),!1,s=a(),i=s.user,u={headers:{authtoken:i.token?"".concat(i.token):""}},t.next=7,c().put("".concat(o.b,"/orders/").concat(e,"/deliver/pay"),{},u);case 7:d=t.sent,p=d.data,r({type:"order_deliver_success",payload:p}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:"order_deliver_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"order_deliver_delete_request"}),!1,s=a(),i=s.user,u={headers:{authtoken:i.token?"".concat(i.token):""}},t.next=7,c().delete("".concat(o.b,"/orders/").concat(e),u);case 7:d=t.sent,d.data,r({type:"order_deliver_delete_success"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:"order_deliver_delete_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var s,i,u,d;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"myorder_delete_request"}),!1,s=a(),i=s.user,u={headers:{authtoken:i.token?"".concat(i.token):""}},t.next=7,c().delete("".concat(o.b,"/orders/myorders/").concat(e),u);case 7:d=t.sent,d.data,r({type:"myorder_delete_success"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:"myorder_delete_fail",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}},94899:function(e,t,r){r(72791);var n=r(91523),a=r(16856),s=r(39126),c=r(56355),o=r(3479),i=r(58617),u=r(80184);t.Z=function(){return(0,u.jsx)("header",{className:"text-gray-600 body-font py-10",children:(0,u.jsx)("div",{className:"container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center",children:(0,u.jsxs)("nav",{className:"md:mr-auto md:ml-4 md:py-1 md:pl-4 md:border-l md:border-gray-400\tflex flex-wrap items-center text-base justify-center",children:[(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/create",children:["Create Products",(0,u.jsx)(a.Doq,{className:"mx-1",color:"blue"})]}),(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/orders",children:["Orders",(0,u.jsx)(s.SoK,{className:"mx-1",color:"blue"})]}),(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/products",children:["Products",(0,u.jsx)(o.pCw,{className:"mx-1",color:"blue"})]}),(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/users",children:["Users",(0,u.jsx)(c.I$,{className:"mx-1",color:"blue"})]}),(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/suppliers",children:["Suppliers",(0,u.jsx)(c.ghb,{className:"mx-1",color:"blue"})]}),(0,u.jsxs)(n.rU,{className:"mr-5 hover:text-gray-900 inline-flex items-center",to:"/admin/reports",children:["Reports",(0,u.jsx)(i.rkW,{className:"mx-1",color:"blue"})]})]})})})}},41537:function(e,t,r){r.r(t);var n=r(72791),a=r(30577),s=r(91523),c=r(16030),o=r(94899),i=r(41713),u=r(80184);t.default=function(e){var t=e.history,r=(0,c.I0)(),d=(0,c.v9)((function(e){return e.orderList})),p=d.loading,l=d.error,m=d.orders,x=(0,c.v9)((function(e){return e.orderDelete})),f=x.success,h=(x.loading,(0,c.v9)((function(e){return e.user})));return(0,n.useEffect)((function(){h&&h.isAdmin?r((0,i.Du)()):t.push("/login")}),[r,t,h,f]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{}),(0,u.jsx)("header",{"aria-label":"Page Header",className:"bg-gray-50",children:(0,u.jsx)("div",{className:"mx-auto max-w-screen-xl px-4 py-8 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"mt-8 pb-10",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"All your orders"}),(0,u.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:"Search Products, Delete Products, Edit Products Keep it up! \ud83d\ude80"})]})})}),(0,u.jsx)("section",{className:"bg-gray-50",children:(0,u.jsx)("div",{className:"container  px-5 py-10 mx-auto ",children:p?(0,u.jsx)("p",{children:"loading..."}):l?a.Am.error("".concat(l)):(0,u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,u.jsx)("thead",{className:"bg-gray-200",children:(0,u.jsxs)("tr",{children:[(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","ID"," "]}),(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","USER"," "]}),(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","DATE"," "]}),(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","Total"," "]}),(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","PAID"," "]}),(0,u.jsxs)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:[" ","DELIVERED"," "]}),(0,u.jsx)("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===m.length?(0,u.jsx)("p",{children:"No orders"}):m.map((function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{children:[e.reported?(0,u.jsxs)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-red-900",children:[e._id," Reported"]}):(0,u.jsx)("td",{children:e._id}),(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:e.user&&e.user.name}),(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:e.createdAt.substring(0,10)}),(0,u.jsxs)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:["PKR",e.totalPrice]}),(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:e.isPaid?e.PaidAt:(0,u.jsx)("p",{children:" X"})}),(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:e.isDelivered?e.deliveredAt.substring(0,10):(0,u.jsx)("p",{children:" X"})}),(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:(0,u.jsx)(s.rU,{to:"/admin/order/".concat(e._id),children:(0,u.jsxs)("button",{classNameName:"btn btn-primary",children:[" ","Details"," "]})})}),e.isDelivered&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:(0,u.jsxs)("button",{classNameName:"btn btn-primary",onClick:function(){return t=e._id,void(window.confirm("This may help you in future")&&r((0,i.h)(t)));var t},children:["Delete"," "]})})})]},e._id)})}))})]})})})]})}}}]);
//# sourceMappingURL=537.9eeab1e3.chunk.js.map