{"version":3,"file":"static/js/640.c539132b.chunk.js","mappings":"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","sources":["components/SEO.jsx","screens/Auth/Login.jsx"],"sourcesContent":["import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst SEO = ({title}) => {\r\n    return (\r\n        <Helmet>\r\n            <meta charSet=\"utf-8\" />\r\n            <title>{title}</title>\r\n            <meta name=\"robots\" content=\"noindex, follow\" />\r\n            <meta name=\"description\" content=\"Syed Hadi Raza  â€“ Ecommerce Project\" />\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n        </Helmet>\r\n    )\r\n}\r\nexport default SEO","import { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport create_or_update_user from \"../../oop/AuthFunc\";\r\nimport roleBaisedRedirect from \"../../oop/roleBaisedRedirect\";\r\n\r\n// icons\r\nimport { BiLogInCircle } from \"react-icons/bi\";\r\nimport SEO from \"../../components/SEO\";\r\n\r\nconst Login = ({ history }) => {\r\n  const direct = (res) => {\r\n    if (!res.data.isAdmin) history.push(\"/\");\r\n    else {\r\n      history.push(\"/admin/dashboard\");\r\n    }\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //   states\r\n//   const [password, setPassword] = useState(\"hadi..\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n//   const [email, setEmail] = useState(\"hr040877@gmail.com\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) history.push(\"/\");\r\n  }, [user]);\r\n\r\n  //   handle submit\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await auth.signInWithEmailAndPassword(email, password);\r\n      const { user } = res;\r\n      const token = await user.getIdTokenResult();\r\n\r\n      create_or_update_user(token.token)\r\n        .then((res) => {\r\n          dispatch({\r\n            type: \"logged_in_user\",\r\n            payload: {\r\n              email: res.data.email,\r\n              token: token.token,\r\n              name: res.data.name,\r\n              _id: res.data._id,\r\n              isAdmin: res.data.isAdmin,\r\n            },\r\n          });\r\n          direct(res);\r\n        })\r\n        .catch((err) => console.error(err));\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (\r\n        error.code === \"auth/wrong-password\" ||\r\n        error.code === \"auth/user-not-found\"\r\n      ) {\r\n        toast.error(\"Invalid Credentials\");\r\n      }\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <SEO title=\"Login\" />\r\n    <section className=\"text-gray-600 body-font relative\">\r\n      <div className=\"container px-5 py-10 mx-auto\">\r\n        <div className=\"flex flex-col items-center w-full mb-12\">\r\n          <h1 class=\"sm:text-3xl text-2xl  inline-flex  items-center font-medium title-font mb-4 text-gray-700\">\r\n            Login <BiLogInCircle className=\"mx-1\" color=\"blue\" />{\" \"}\r\n          </h1>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"lg:w-1/2 md:w-2/3 mx-auto\">\r\n            <div className=\"flex flex-wrap -m-2\">\r\n              <div className=\"p-2 w-full\">\r\n                <div className=\"relative\">\r\n                  <label\r\n                    for=\"email\"\r\n                    className=\"leading-7 text-sm text-gray-600\"\r\n                  >\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Your email\"\r\n                    autoFocus\r\n                    className=\"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-2  w-full\">\r\n                <div className=\"relative\">\r\n                  <label for=\"name\" className=\"leading-7 text-sm text-gray-600\">\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Your password\"\r\n                    className=\"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\" p-2 w-full\" onClick={handleSubmit}>\r\n                <button\r\n                  disabled={!email || password.length < 4}\r\n                  className=\"flex mx-auto text-white   bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg\"\r\n                >\r\n                  Login {loading && \"Loading...\"}\r\n                </button>\r\n                <Link className=\"text-indigo-500 \" to=\"/forgot/password\">\r\n                  Forget Password\r\n                </Link>\r\n                <br />\r\n                <Link className=\"text-gray-500\" to=\"register\">\r\n                  Already have account ?{\" \"}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["title","charSet","name","content","history","direct","res","data","isAdmin","push","dispatch","useDispatch","useState","password","setPassword","email","setEmail","loading","setLoading","user","useSelector","state","useEffect","token","handleSubmit","e","preventDefault","auth","getIdTokenResult","create_or_update_user","then","type","payload","_id","catch","err","console","error","code","toast","className","class","color","onSubmit","for","id","value","onChange","target","placeholder","autoFocus","onClick","disabled","length","to"],"sourceRoot":""}